PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE korban (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        nomor_resi TEXT UNIQUE,
        nama_lengkap TEXT NOT NULL,
        usia INTEGER NOT NULL,
        nomor_telepon TEXT NOT NULL,
        nik TEXT NOT NULL,
        alamat_koordinat TEXT,
        nopol_kendaraan TEXT,
        status_kendaraan TEXT,
        rs_tempat_dirawat TEXT,
        jenis_rawatan TEXT,
        created_at DATETIME NOT NULL,
        nomor_lp TEXT,
        nomor_jaminan TEXT,
        tgl_kecelakaan DATE,
        tgl_masuk DATE,
        tgl_keluar DATE,
        status_tagihan TEXT,
        jml_pengajuan INTEGER,
        jml_digunakan INTEGER,
        tgl_update DATE
    );
INSERT INTO korban VALUES(1,'JR-CTS-20250809-1','NI LUH PUTU SUKARIANI',22,'08533333','33','-6.211978,106.842299','DK-8573-GA',NULL,'0700060 - RS SEMARA RATIH, KAB. TABANAN','Rawat Pertama','2025-08-09 15:45:25.079275',NULL,NULL,'2025-08-05',NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO korban VALUES(2,'JR-CTS-20250809-2','ABDUL GONI',22,'08533333','33','-6.211978,106.842299','DK-8573-GA',NULL,'0700028 - RSUD MANGUSADA, KAB. BADUNG','Rawat Pertama','2025-08-09 15:46:39.024728',NULL,NULL,'2025-08-03',NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO korban VALUES(3,'JR-CTS-20250809-3','AHMAD BUSRON SEPTRIANDAKA',22,'08533333','33','-6.211978,106.842299','DR-6448-TS',NULL,'0700004 - RSUD KAB. TABANAN','Rawat Pertama','2025-08-09 15:47:18.975964',NULL,NULL,'2025-07-17',NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO korban VALUES(4,'JR-CTS-20250809-4','AMELIA MARIAM TAGAROI',22,'08533333','33','-6.211978,106.842299','DK-5703-FCF',NULL,'0700126 - RS BALI JIMBARAN, KAB. BADUNG','Rawat Pertama','2025-08-09 15:48:12.657163',NULL,NULL,'2025-06-04',NULL,NULL,NULL,NULL,NULL,NULL);
INSERT INTO korban VALUES(5,'JR-CTS-20250809-5','ANAK AGUNG ISTRI INTAN JUNIARI',22,'08533333','33','-6.211978,106.842299','DK-2167-KBG',NULL,'0700045 - RS FAMILI HUSADA, KAB. GIANYAR','Rawat Pertama','2025-08-09 15:49:06.919407','LP/A/553/VII/2025/SPKT.SATLANTAS/POLRES GIANYAR/POLDA BALI','0700-2025-004049-01','2025-07-15','01/08/2025',NULL,'TAGIHAN BELUM DIOTORISASI',5115712,NULL,'2025-08-09');
INSERT INTO korban VALUES(6,'JR-CTS-20250809-6','ANATJE YULIANA KONORALMA',22,'08533333','33','-6.211978,106.842299','DK-5703-FCF',NULL,'0700126 - RS BALI JIMBARAN, KAB. BADUNG','Rawat Pertama','2025-08-09 15:49:51.397937','LP/A/809/VII/2025/SPKT.SATLANTAS/POLRESTA DENPASAR/POLDA BALI','0700-2025-003918-01','2025-06-04','14/07/2025','2025-07-14','DITAGIHKAN',20000000,NULL,'2025-08-09');
CREATE TABLE histori_status (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        korban_id INTEGER NOT NULL,
        step INTEGER NOT NULL,
        deskripsi TEXT NOT NULL,
        created_at DATETIME NOT NULL,
        FOREIGN KEY(korban_id) REFERENCES korban(id)
    );
INSERT INTO histori_status VALUES(1,1,1,'Step 1: Resi dibuat (JR-CTS-20250809-1)','2025-08-09 15:45:25.085259');
INSERT INTO histori_status VALUES(2,2,1,'Step 1: Resi dibuat (JR-CTS-20250809-2)','2025-08-09 15:46:39.030820');
INSERT INTO histori_status VALUES(3,3,1,'Step 1: Resi dibuat (JR-CTS-20250809-3)','2025-08-09 15:47:18.981947');
INSERT INTO histori_status VALUES(4,4,1,'Step 1: Resi dibuat (JR-CTS-20250809-4)','2025-08-09 15:48:12.663150');
INSERT INTO histori_status VALUES(5,5,1,'Step 1: Resi dibuat (JR-CTS-20250809-5)','2025-08-09 15:49:06.927098');
INSERT INTO histori_status VALUES(6,6,1,'Step 1: Resi dibuat (JR-CTS-20250809-6)','2025-08-09 15:49:51.403923');
INSERT INTO histori_status VALUES(7,6,2,'Step 2: Nomor LP diinput (LP/A/809/VII/2025/SPKT.SATLANTAS/POLRESTA DENPASAR/POLDA BALI)','2025-08-09 15:50:19.504907');
INSERT INTO histori_status VALUES(8,6,3,'Step 3: Nomor jaminan diinput (0700-2025-003918-01), saldo sebelumnya (Rp 20.000.000)','2025-08-09 15:51:39.736863');
INSERT INTO histori_status VALUES(9,6,4,'Step 4: Pasien pulang (2025-07-14)','2025-08-09 15:52:17.358375');
INSERT INTO histori_status VALUES(10,6,5,'Step 5: Berkas sudah ditagihkan oleh JCARE','2025-08-09 15:52:17.364359');
INSERT INTO histori_status VALUES(11,6,6,'Step 6: Menunggu pembayaran','2025-08-09 15:52:26.555003');
INSERT INTO histori_status VALUES(12,5,2,'Step 2: Nomor LP diinput (LP/A/553/VII/2025/SPKT.SATLANTAS/POLRES GIANYAR/POLDA BALI)','2025-08-09 15:53:09.489825');
INSERT INTO histori_status VALUES(13,5,3,'Step 3: Nomor jaminan diinput (0700-2025-004049-01), saldo sebelumnya (Rp 5.115.712)','2025-08-09 15:53:21.044286');
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('korban',6);
INSERT INTO sqlite_sequence VALUES('histori_status',13);
COMMIT;
